# ============================================
# ToastTV MPV Configuration
# Optimized for Raspberry Pi Zero 2 W
# ============================================

# --- Hardware Acceleration ---
hwdec=auto-safe
vo=gpu
gpu-context=drm

# --- GPU Renderer (fast profile) ---
profile=fast
dither=no
deband=no
correct-downscaling=no
sigmoid-upscaling=no

# --- Software Decode Fallback ---
# (Activates when HW decode unavailable, e.g., HEVC)
vd-lavc-threads=0
vd-lavc-fast=yes
vd-lavc-skiploopfilter=all
framedrop=decoder+vo

# --- Software Scaler ---
profile=sw-fast

# --- Memory Limits (optimized for 512MB RAM) ---
demuxer-max-bytes=50MiB
demuxer-max-back-bytes=20MiB

# --- Audio ---
ao=alsa
# If audio fails, find your device with: aplay -l
# audio-device=alsa/plughw:0,0

# --- UI ---
osc=no
osd-bar=no
force-window=yes

# --- User Overrides (preserved across updates) ---
include=/opt/toasttv/data/user.conf
